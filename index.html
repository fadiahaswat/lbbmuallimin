<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem LBB Mu'allimin 2025 - Professional Edition</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@700;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Outfit', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'], 
                    },
                    colors: {
                        slate: { 850: '#1e293b', 900: '#0f172a', 950: '#020617' },
                        primary: { 500: '#f43f5e', 600: '#e11d48', 900: '#881337' },
                        gold: { 400: '#fbbf24', 500: '#f59e0b' }
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px), linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        .hide { display: none !important; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
        .glass-panel {
            background: rgba(30, 41, 59, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        .view-section { animation: slideUpFade 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes slideUpFade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .input-field:focus { outline: none; border-color: #f43f5e; box-shadow: 0 0 0 3px rgba(244, 63, 94, 0.25); }
        .timer-glow { text-shadow: 0 0 30px rgba(255, 255, 255, 0.15); }
        .bg-tech-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
        }
        /* Custom Tab Style */
        .tab-btn.active { background-color: #f43f5e; color: white; border-color: #f43f5e; }
    </style>
</head>
<body class="bg-slate-900 text-slate-200 h-screen overflow-hidden flex flex-col font-sans selection:bg-primary-500 selection:text-white bg-tech-grid">

    <div id="login-screen" class="fixed inset-0 z-50 flex items-center justify-center bg-slate-950">
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1557683316-973673baf926?q=80&w=2000')] bg-cover bg-center opacity-20 mix-blend-overlay"></div>
        <div class="absolute inset-0 bg-gradient-to-tr from-slate-950 via-slate-900 to-slate-900/90"></div>
        <div class="relative glass-panel p-8 md:p-12 rounded-2xl shadow-2xl w-full max-w-sm mx-4 border-t border-white/10">
            <div class="text-center mb-10">
                <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-primary-600 to-primary-900 shadow-xl shadow-primary-900/40 mb-6 transform rotate-3 border border-white/10">
                    <i class="fa-solid fa-medal text-4xl text-white drop-shadow-md"></i>
                </div>
                <h1 class="text-3xl font-heading font-black text-white tracking-wide leading-tight">LBB MU'ALLIMIN <span class="text-primary-500">2025</span></h1>
                <div class="h-1 w-20 bg-primary-600 mx-auto mt-3 rounded-full"></div>
                <p class="text-slate-400 text-xs mt-3 uppercase tracking-[0.2em] font-bold">Official Scoring System</p>
            </div>
            <div class="space-y-5">
                <div class="group">
                    <label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">ID Pengguna</label>
                    <div class="relative">
                        <i class="fa-solid fa-user absolute left-4 top-4 text-slate-500"></i>
                        <input type="text" id="login-user" class="input-field w-full pl-12 pr-4 py-3.5 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-600 transition-all font-medium" placeholder="Masukkan Username">
                    </div>
                </div>
                <div class="group">
                    <label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Kata Sandi</label>
                    <div class="relative">
                        <i class="fa-solid fa-key absolute left-4 top-4 text-slate-500"></i>
                        <input type="password" id="login-pass" class="input-field w-full pl-12 pr-4 py-3.5 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-600 transition-all font-medium" placeholder="••••••••">
                    </div>
                </div>
                <button id="btn-login" class="w-full bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary-600/20 transition-all transform active:scale-[0.98] mt-4 uppercase tracking-wide text-sm">Masuk Sistem</button>
            </div>
            <div class="mt-10 pt-6 border-t border-white/5">
                <p class="text-[10px] text-center text-slate-500 font-bold uppercase mb-3 tracking-wider">Akses Cepat (Simulasi)</p>
                <div class="flex justify-center gap-2">
                    <button class="sim-login-btn px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 text-[10px] font-bold text-slate-300 uppercase transition" data-user="admin" data-pass="admin">Admin</button>
                    <button class="sim-login-btn px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 text-[10px] font-bold text-slate-300 uppercase transition" data-user="panitia" data-pass="panitia">Panitia</button>
                    <button class="sim-login-btn px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 text-[10px] font-bold text-slate-300 uppercase transition" data-user="peserta" data-pass="peserta">Peserta</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="dashboard-layout" class="flex h-screen hide">
        <aside class="w-72 bg-slate-900 border-r border-slate-800/60 flex flex-col z-20 hidden md:flex shadow-2xl">
            <div class="p-8 border-b border-slate-800/60 flex items-center gap-4">
                <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center text-white font-bold shadow-lg text-sm">LM</div>
                <div>
                    <h2 class="font-heading font-bold text-xl text-white leading-none tracking-tight">LBB 2025</h2>
                    <span id="role-badge" class="text-[10px] text-primary-400 font-bold uppercase tracking-widest mt-1 block">Role</span>
                </div>
            </div>
            <nav id="sidebar-menu" class="flex-1 py-6 px-4 space-y-2 overflow-y-auto"></nav>
            <div class="p-6 border-t border-slate-800/60">
                <button id="btn-logout" class="flex items-center justify-center gap-3 text-slate-400 hover:text-white hover:bg-slate-800 w-full px-4 py-3 rounded-xl transition-all text-sm font-bold border border-transparent hover:border-slate-700">
                    <i class="fa-solid fa-arrow-right-from-bracket"></i> Keluar
                </button>
            </div>
        </aside>

        <div class="flex-1 flex flex-col min-w-0 overflow-hidden relative">
            <header class="bg-slate-900/90 backdrop-blur-md border-b border-slate-800 text-white p-4 flex justify-between items-center md:hidden sticky top-0 z-30">
                <div class="flex items-center gap-3">
                    <button id="btn-mobile-menu" class="text-slate-300 hover:text-white p-2"><i class="fa-solid fa-bars text-xl"></i></button>
                    <span class="font-heading font-bold text-lg">LBB 2025</span>
                </div>
                <button id="btn-logout-mobile" class="text-slate-400 p-2"><i class="fa-solid fa-power-off"></i></button>
            </header>
            <div id="mobile-overlay" class="fixed inset-0 bg-slate-950/80 z-20 hidden md:hidden backdrop-blur-sm"></div>

            <main id="main-content" class="flex-1 overflow-auto p-4 sm:p-8 lg:p-10 relative scroll-smooth">
                
                <section id="view-admin-dashboard" class="view-section hide">
                    <div class="mb-10 border-b border-slate-800 pb-6"><h1 class="text-3xl font-heading font-bold text-white mb-2">Dashboard Overview</h1><p class="text-slate-400">Ringkasan statistik kompetisi.</p></div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                        <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-lg relative overflow-hidden"><i class="fa-solid fa-users text-4xl text-primary-500 mb-4"></i><p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Total Tim</p><p class="text-4xl font-heading font-bold text-white" id="admin-total-teams">0</p></div>
                    </div>
                    <button id="btn-add-dummy" class="bg-white hover:bg-slate-200 text-slate-900 px-6 py-3 rounded-xl font-bold text-sm shadow-lg transition flex items-center gap-3"><i class="fa-solid fa-wand-magic-sparkles"></i> Generate Data Dummy</button>
                </section>

                <section id="view-admin-teams" class="view-section hide">
                    <h1 class="text-3xl font-heading font-bold text-white mb-8">Database Peserta</h1>
                    <div class="bg-slate-800/50 rounded-2xl border border-slate-700 overflow-hidden shadow-xl backdrop-blur-sm"><table class="w-full text-sm text-left text-slate-300"><thead class="bg-slate-900/80 text-slate-400 uppercase font-bold text-xs tracking-wider border-b border-slate-700"><tr><th class="p-5">Tim & Sekolah</th><th class="p-5">Kontak</th><th class="p-5">Status</th></tr></thead><tbody id="admin-teams-list" class="divide-y divide-slate-700/50"></tbody></table></div>
                </section>

                <section id="view-panitia-verification" class="view-section hide">
                    <h1 class="text-3xl font-heading font-bold text-white mb-8">Antrean Verifikasi</h1>
                    <div id="verification-list" class="grid gap-4"></div>
                </section>

                <section id="view-panitia-live" class="view-section hide h-full">
                    <div class="flex flex-col lg:flex-row gap-8 h-full">
                        <div class="lg:w-2/3 flex flex-col gap-6">
                            <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-md">
                                <label class="block text-xs font-bold text-slate-400 uppercase mb-3 tracking-wider">Pilih Peleton</label>
                                <select id="live-team-select" class="w-full pl-4 pr-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white outline-none"><option value="">-- Pilih --</option></select>
                            </div>
                            <div class="bg-slate-850 rounded-3xl border border-slate-700 p-12 text-center relative shadow-2xl">
                                <div class="flex justify-between items-center mb-8 relative z-10"><span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Live Stage</span><span id="timer-limit-label" class="bg-slate-800 px-4 py-1.5 rounded-full text-xs font-bold text-gold-400 border border-slate-700">Limit: -</span></div>
                                <div class="relative py-4 mb-8">
                                    <div id="timer-display" class="text-8xl md:text-9xl font-mono font-bold text-white tracking-tighter leading-none timer-glow">00:00</div>
                                    <div class="w-full h-4 bg-slate-800 rounded-full mt-10 overflow-hidden border border-slate-700/50"><div id="timer-progress" class="h-full bg-blue-500 w-0 transition-all duration-1000"></div></div>
                                </div>
                                <div class="flex justify-center gap-6 relative z-20">
                                    <button id="btn-timer-start" class="bg-green-600 hover:bg-green-500 w-20 h-20 rounded-2xl flex items-center justify-center text-3xl text-white shadow-lg"><i class="fa-solid fa-play ml-1"></i></button>
                                    <button id="btn-timer-stop" class="bg-red-600 hover:bg-red-500 w-20 h-20 rounded-2xl flex items-center justify-center text-3xl text-white shadow-lg opacity-50" disabled><i class="fa-solid fa-stop"></i></button>
                                    <button id="btn-timer-reset" class="bg-slate-700 hover:bg-slate-600 w-20 h-20 rounded-2xl flex items-center justify-center text-2xl text-slate-300 shadow-lg"><i class="fa-solid fa-rotate-left"></i></button>
                                </div>
                            </div>
                            
                            <div id="scoring-panel" class="bg-slate-800 rounded-2xl border border-slate-700 opacity-50 pointer-events-none p-8">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-white font-bold uppercase tracking-wider text-sm"><i class="fa-solid fa-pen-nib mr-2"></i>Input Nilai (50 - 90)</h3>
                                    <span class="text-xs text-slate-500">Interval: 2 Poin</span>
                                </div>
                                <div class="grid grid-cols-2 gap-6 mb-6">
                                    <div><label class="text-xs text-slate-400 block mb-2 font-bold uppercase">Teknik PBB (70%)</label><input id="score-pbb" type="number" min="50" max="90" step="2" class="input-field w-full bg-slate-900 border border-slate-600 rounded-xl text-white p-3 text-lg font-mono text-center"></div>
                                    <div><label class="text-xs text-slate-400 block mb-2 font-bold uppercase">Kekompakan (30%)</label><input id="score-kompak" type="number" min="50" max="90" step="2" class="input-field w-full bg-slate-900 border border-slate-600 rounded-xl text-white p-3 text-lg font-mono text-center"></div>
                                </div>
                                <div class="border-t border-slate-700 pt-6">
                                    <label class="text-xs text-primary-400 block mb-4 font-bold uppercase">Nilai Komandan (Total 100%)</label>
                                    <div class="grid grid-cols-4 gap-4">
                                        <div><label class="text-[10px] text-slate-500 block mb-1 text-center">Materi (35%)</label><input id="score-danton-materi" type="number" min="50" max="90" step="2" class="input-field w-full bg-slate-900 border border-slate-600 rounded-lg text-white p-2 text-center font-mono"></div>
                                        <div><label class="text-[10px] text-slate-500 block mb-1 text-center">Suara (25%)</label><input id="score-danton-suara" type="number" min="50" max="90" step="2" class="input-field w-full bg-slate-900 border border-slate-600 rounded-lg text-white p-2 text-center font-mono"></div>
                                        <div><label class="text-[10px] text-slate-500 block mb-1 text-center">Sikap (20%)</label><input id="score-danton-sikap" type="number" min="50" max="90" step="2" class="input-field w-full bg-slate-900 border border-slate-600 rounded-lg text-white p-2 text-center font-mono"></div>
                                        <div><label class="text-[10px] text-slate-500 block mb-1 text-center">Medan (20%)</label><input id="score-danton-medan" type="number" min="50" max="90" step="2" class="input-field w-full bg-slate-900 border border-slate-600 rounded-lg text-white p-2 text-center font-mono"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="lg:w-1/3 flex flex-col gap-6">
                            <div id="penalty-panel" class="bg-red-950/20 rounded-2xl border border-red-900/40 p-6 opacity-50 pointer-events-none">
                                <h3 class="text-red-400 font-bold mb-4 uppercase text-sm border-b border-red-900/30 pb-2">Sanksi Pengurangan</h3>
                                <div class="space-y-3 text-slate-300 text-sm">
                                    <label class="flex justify-between items-center bg-slate-900/40 p-2 rounded hover:bg-slate-900 cursor-pointer"><span class="flex-1">Tidak Upacara</span><span class="text-red-500 font-bold mr-2">-150</span><input type="checkbox" id="pen-upacara" class="accent-red-500"></label>
                                    <label class="flex justify-between items-center bg-slate-900/40 p-2 rounded hover:bg-slate-900 cursor-pointer"><span class="flex-1">Terlambat DP1</span><span class="text-red-500 font-bold mr-2">-100</span><input type="checkbox" id="pen-late" class="accent-red-500"></label>
                                    <label class="flex justify-between items-center bg-slate-900/40 p-2 rounded hover:bg-slate-900 cursor-pointer"><span class="flex-1">Personel &lt; 22</span><span class="text-red-500 font-bold mr-2">-75</span><input type="checkbox" id="pen-personel" class="accent-red-500"></label>
                                    
                                    <div class="pt-2 border-t border-red-900/20 mt-2 space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-xs text-slate-400">Injak Garis (x50)</span>
                                            <input type="number" id="count-garis" class="w-12 bg-slate-900 border border-slate-600 text-center rounded text-white" value="0" min="0">
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-xs text-slate-400">Penyesuaian >3 (x25)</span>
                                            <input type="number" id="count-adjustment" class="w-12 bg-slate-900 border border-slate-600 text-center rounded text-white" value="0" min="0">
                                        </div>
                                        <div class="flex justify-between items-center bg-red-900/20 p-2 rounded">
                                            <span class="text-xs text-red-300 font-bold">Total Overtime (-50/30s)</span>
                                            <input type="number" id="pen-time" class="w-16 bg-transparent border-none text-red-400 font-bold text-right" value="0" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button id="btn-submit-score" class="w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold py-4 rounded-xl opacity-50 pointer-events-none shadow-lg">KUNCI & SIMPAN</button>
                        </div>
                    </div>
                </section>

                <section id="view-peserta-dashboard" class="view-section hide">
                    <div class="max-w-4xl mx-auto">
                        <div class="bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-10 mb-8 relative overflow-hidden shadow-2xl">
                            <div class="absolute right-0 top-0 w-64 h-64 bg-primary-500 opacity-10 rounded-full blur-[100px]"></div>
                            <h1 class="text-3xl font-heading font-bold text-white mb-2 relative z-10">Halo, <span id="dash-peserta-name" class="text-primary-400"></span>!</h1>
                            <p class="text-slate-400 relative z-10">Status Pendaftaran Anda saat ini.</p>
                        </div>
                        </div>
                </section>

                <section id="view-peserta-juknis" class="view-section hide">
                    <div class="max-w-6xl mx-auto">
                        <div class="text-center mb-8">
                            <h1 class="text-3xl font-heading font-bold text-white mb-2">Buku Panduan (Juknis)</h1>
                            <p class="text-slate-400 text-sm">Pilih kategori panduan yang ingin Anda pelajari.</p>
                        </div>

                        <div class="flex justify-center gap-4 mb-8">
                            <button id="btn-tab-daftar" class="tab-btn active px-6 py-2 rounded-full border border-slate-600 text-sm font-bold text-white transition bg-slate-800 hover:bg-slate-700">Juknis Pendaftaran</button>
                            <button id="btn-tab-lomba" class="tab-btn px-6 py-2 rounded-full border border-slate-600 text-sm font-bold text-slate-400 transition hover:bg-slate-800 hover:text-white">Juknis Lapangan</button>
                        </div>

                        <div id="content-juknis-daftar" class="space-y-8 animate-fade-in">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-slate-800 border border-slate-700 rounded-2xl p-6 relative overflow-hidden">
                                    <div class="absolute top-0 right-0 p-4 opacity-10"><i class="fa-solid fa-money-bill-wave text-6xl text-white"></i></div>
                                    <h3 class="text-primary-500 font-bold uppercase text-xs tracking-wider mb-2">Biaya Pendaftaran</h3>
                                    <p class="text-3xl font-heading font-bold text-white mb-1">Rp325.000,-</p>
                                    <p class="text-slate-400 text-sm">per peleton (Non-refundable)</p>
                                </div>
                                <div class="bg-slate-800 border border-slate-700 rounded-2xl p-6">
                                    <h3 class="text-primary-500 font-bold uppercase text-xs tracking-wider mb-2">Transfer ke (BRI)</h3>
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-2xl font-mono font-bold text-white tracking-widest select-all">300701003561505</span>
                                        <button onclick="navigator.clipboard.writeText('300701003561505')" class="text-slate-500 hover:text-white"><i class="fa-solid fa-copy"></i></button>
                                    </div>
                                    <p class="text-slate-400 text-sm uppercase font-bold">a.n. Falhan Zuhdi Mubarok</p>
                                </div>
                            </div>
                            </div>

                        <div id="content-juknis-lomba" class="hidden space-y-8 animate-fade-in">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-slate-800 border border-slate-700 p-6 rounded-2xl">
                                    <h3 class="text-white font-bold text-lg mb-4 flex items-center gap-2"><i class="fa-solid fa-book-open text-gold-400"></i> Definisi & Area</h3>
                                    <ul class="space-y-3 text-sm text-slate-300">
                                        <li class="flex gap-2"><span class="text-primary-500 font-bold">Clear Area:</span> Steril, hanya peleton + 2 official + 1 dokum.</li>
                                        <li class="flex gap-2"><span class="text-primary-500 font-bold">Ukuran Lapangan:</span> SD (25x14m), SMP (26x15m).</li>
                                        <li class="flex gap-2"><span class="text-primary-500 font-bold">DP 1 & 2:</span> Wajib hadir di DP 1 min. 15 menit sebelum tampil.</li>
                                    </ul>
                                </div>
                                <div class="bg-slate-800 border border-slate-700 p-6 rounded-2xl">
                                    <h3 class="text-white font-bold text-lg mb-4 flex items-center gap-2"><i class="fa-solid fa-stopwatch text-gold-400"></i> Durasi Tampil</h3>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="bg-slate-900 p-4 rounded text-center"><p class="text-slate-400 text-xs uppercase">SD / MI</p><p class="text-2xl font-bold text-white">8 Menit</p></div>
                                        <div class="bg-slate-900 p-4 rounded text-center"><p class="text-slate-400 text-xs uppercase">SMP / MTs</p><p class="text-2xl font-bold text-white">13 Menit</p></div>
                                    </div>
                                    <p class="text-xs text-red-400 mt-2 text-center">*Waktu mulai/habis saat hormat pembuka/penutup.</p>
                                </div>
                            </div>

                            <div class="bg-slate-900 border-l-4 border-blue-500 p-6 rounded-r-2xl">
                                <h3 class="text-white font-bold text-lg mb-6">Bobot Penilaian (Range 50-90)</h3>
                                <div class="grid md:grid-cols-2 gap-8">
                                    <div>
                                        <h4 class="text-blue-400 font-bold uppercase text-xs mb-3">1. Peleton (100%)</h4>
                                        <div class="space-y-2">
                                            <div class="flex justify-between text-sm text-slate-300 border-b border-slate-800 pb-1"><span>Kebenaran Teknik PBB</span><span class="font-bold text-white">70%</span></div>
                                            <div class="flex justify-between text-sm text-slate-300 border-b border-slate-800 pb-1"><span>Kekompakan</span><span class="font-bold text-white">30%</span></div>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="text-blue-400 font-bold uppercase text-xs mb-3">2. Komandan (100%)</h4>
                                        <div class="space-y-2">
                                            <div class="flex justify-between text-sm text-slate-300 border-b border-slate-800 pb-1"><span>Penguasaan Materi</span><span class="font-bold text-white">35%</span></div>
                                            <div class="flex justify-between text-sm text-slate-300 border-b border-slate-800 pb-1"><span>Kualitas Suara</span><span class="font-bold text-white">25%</span></div>
                                            <div class="flex justify-between text-sm text-slate-300 border-b border-slate-800 pb-1"><span>Sikap & Pelaporan</span><span class="font-bold text-white">20%</span></div>
                                            <div class="flex justify-between text-sm text-slate-300 border-b border-slate-800 pb-1"><span>Penguasaan Medan</span><span class="font-bold text-white">20%</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-slate-800 border border-slate-700 rounded-2xl overflow-hidden">
                                <div class="bg-red-900/20 p-4 border-b border-red-900/30"><h3 class="text-red-400 font-bold text-sm uppercase">Daftar Pelanggaran & Penalti</h3></div>
                                <table class="w-full text-sm text-left text-slate-300">
                                    <tbody class="divide-y divide-slate-700">
                                        <tr><td class="p-4">Tidak Upacara Pembukaan</td><td class="p-4 text-right font-bold text-red-500">-150</td></tr>
                                        <tr><td class="p-4">Terlambat Masuk DP 1 (3x Panggilan)</td><td class="p-4 text-right font-bold text-red-500">-100</td></tr>
                                        <tr><td class="p-4">Personel Kurang (< 22 Orang)</td><td class="p-4 text-right font-bold text-red-500">-75</td></tr>
                                        <tr><td class="p-4">Melanggar Garis Batas</td><td class="p-4 text-right font-bold text-red-500">-50 / kejadian</td></tr>
                                        <tr><td class="p-4">Gerakan Penyesuaian > 3 kali</td><td class="p-4 text-right font-bold text-red-500">-25 / gerakan</td></tr>
                                        <tr><td class="p-4">Overtime (Kelebihan Waktu)</td><td class="p-4 text-right font-bold text-red-500">-50 / 30 detik</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-peserta-data" class="view-section hide">
                    <div class="max-w-4xl mx-auto">
                        <h1 class="text-3xl font-heading font-bold text-white mb-8">Data Peleton</h1>
                        <form id="form-peserta-data" class="bg-slate-800 border border-slate-700 rounded-3xl p-8 md:p-10 shadow-2xl">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 mb-10">
                                <div class="space-y-6">
                                    <div><label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Tingkat Sekolah</label><select id="team-level" class="input-field w-full bg-slate-900 border border-slate-600 text-white p-3.5 rounded-xl"><option value="SD/MI">SD / MI</option><option value="SMP/MTs">SMP / MTs</option></select></div>
                                    <div><label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Nama Sekolah</label><input type="text" id="team-school" class="input-field w-full bg-slate-900 border border-slate-600 text-white p-3.5 rounded-xl"></div>
                                    <div><label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Nama Peleton</label><input type="text" id="team-name" class="input-field w-full bg-slate-900 border border-slate-600 text-white p-3.5 rounded-xl"></div>
                                    <div><label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Nama Danton</label><input type="text" id="team-danton" class="input-field w-full bg-slate-900 border border-slate-600 text-white p-3.5 rounded-xl"></div>
                                </div>
                                <div class="space-y-5">
                                    <div><label class="block text-[10px] font-bold text-slate-500 uppercase mb-1">Nama Official 1</label><input type="text" id="team-off1" class="input-field w-full bg-slate-800 border border-slate-600 text-white p-3 rounded-lg"></div>
                                    <div><label class="block text-[10px] font-bold text-slate-500 uppercase mb-1">No. WhatsApp</label><input type="text" id="team-phone1" class="input-field w-full bg-slate-800 border border-slate-600 text-white p-3 rounded-lg"></div>
                                    <div><label class="block text-[10px] font-bold text-slate-500 uppercase mb-1">Nama Official 2</label><input type="text" id="team-off2" class="input-field w-full bg-slate-800 border border-slate-600 text-white p-3 rounded-lg"></div>
                                </div>
                            </div>
                            <div class="flex justify-end pt-8 border-t border-slate-700"><button type="submit" class="bg-primary-600 text-white px-8 py-3.5 rounded-xl font-bold text-sm shadow-lg hover:-translate-y-1 transition">Simpan Data</button></div>
                        </form>
                    </div>
                </section>

                <section id="view-peserta-docs" class="view-section hide">
                    <div class="max-w-4xl mx-auto">
                        <h1 class="text-3xl font-heading font-bold text-white mb-8">Upload Dokumen</h1>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-slate-800 border border-slate-700 rounded-2xl p-8 flex flex-col justify-between">
                                <div><h3 class="font-bold text-white text-xl mb-1">Bukti Pembayaran</h3><p class="text-xs text-slate-500 uppercase">JPG/PNG (Max 2MB)</p></div>
                                <div class="mt-8" id="action-doc-payment"><button class="w-full bg-slate-700 text-white font-bold py-3 rounded-xl text-sm border border-slate-600 hover:bg-slate-600 transition">Pilih File</button></div>
                            </div>
                            <div class="bg-slate-800 border border-slate-700 rounded-2xl p-8 flex flex-col justify-between">
                                <div><h3 class="font-bold text-white text-xl mb-1">Formulir B</h3><p class="text-xs text-slate-500 uppercase">DOCX (KAPITAL)</p></div>
                                <div class="mt-8" id="action-doc-formB"><button class="w-full bg-slate-700 text-white font-bold py-3 rounded-xl text-sm border border-slate-600 hover:bg-slate-600 transition">Pilih File</button></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="view-peserta-schedule" class="view-section hide">
                    <div class="max-w-4xl mx-auto text-center py-24">
                        <div class="inline-block p-6 rounded-full bg-slate-800 border border-slate-700 mb-6 shadow-lg"><i class="fa-solid fa-bullhorn text-4xl text-slate-600"></i></div>
                        <h1 class="text-2xl font-bold text-white mb-2">Belum Ada Pengumuman</h1>
                    </div>
                </section>

            </main>
        </div>
    </div>

    <div id="toast" class="fixed top-5 right-5 bg-slate-800 border-l-4 border-green-500 text-white shadow-2xl rounded-r px-6 py-4 transform translate-x-full transition-transform duration-300 z-50 flex items-center gap-4">
        <i id="toast-icon" class="fa-solid fa-check-circle text-green-500 text-xl"></i>
        <div id="toast-msg" class="text-sm font-bold">Notification</div>
    </div>

    <script src="logic.js"></script>
    <script>
        // Sidebar & UI Logic
        window.addEventListener('load', () => {
             // Juknis Tab Logic
             const btnDaftar = document.getElementById('btn-tab-daftar');
             const btnLomba = document.getElementById('btn-tab-lomba');
             const contentDaftar = document.getElementById('content-juknis-daftar');
             const contentLomba = document.getElementById('content-juknis-lomba');

             if(btnDaftar && btnLomba){
                 btnDaftar.onclick = () => {
                     btnDaftar.classList.add('active', 'bg-slate-800', 'text-white'); btnDaftar.classList.remove('text-slate-400');
                     btnLomba.classList.remove('active', 'bg-slate-800', 'text-white'); btnLomba.classList.add('text-slate-400');
                     contentDaftar.classList.remove('hidden'); contentLomba.classList.add('hidden');
                 };
                 btnLomba.onclick = () => {
                     btnLomba.classList.add('active', 'bg-slate-800', 'text-white'); btnLomba.classList.remove('text-slate-400');
                     btnDaftar.classList.remove('active', 'bg-slate-800', 'text-white'); btnDaftar.classList.add('text-slate-400');
                     contentLomba.classList.remove('hidden'); contentDaftar.classList.add('hidden');
                 };
             }

             // Sidebar Render
             const originalRender = window.renderSidebar;
             if(originalRender) {
                 window.renderSidebar = function() {
                     const menu = document.getElementById('sidebar-menu'); menu.innerHTML = '';
                     const links = [];
                     if (currentUser.role === 'admin') { links.push({ id: 'admin-dashboard', icon: 'fa-chart-pie', label: 'Dashboard' }); links.push({ id: 'admin-teams', icon: 'fa-users-gear', label: 'Data Peserta' }); } 
                     else if (currentUser.role === 'panitia') { links.push({ id: 'panitia-verification', icon: 'fa-list-check', label: 'Verifikasi' }); links.push({ id: 'panitia-live', icon: 'fa-stopwatch-20', label: 'Live Scoring' }); } 
                     else if (currentUser.role === 'peserta') { links.push({ id: 'peserta-dashboard', icon: 'fa-house-user', label: 'Beranda Tim' }); links.push({ id: 'peserta-juknis', icon: 'fa-book-open-reader', label: 'Buku Panduan' }); links.push({ id: 'peserta-data', icon: 'fa-file-signature', label: 'Data Peleton' }); links.push({ id: 'peserta-docs', icon: 'fa-cloud-arrow-up', label: 'Upload Berkas' }); links.push({ id: 'peserta-schedule', icon: 'fa-bullhorn', label: 'Pengumuman' }); }

                     links.forEach(link => {
                         const btn = document.createElement('button');
                         btn.className = 'sidebar-link w-full text-left px-4 py-3.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-all flex items-center gap-4 text-sm font-bold tracking-wide mb-1 group';
                         btn.onclick = () => {
                             document.querySelectorAll('.sidebar-link').forEach(b => { b.classList.remove('bg-primary-600/10', 'text-primary-400', 'shadow-inner'); b.classList.add('text-slate-400'); });
                             btn.classList.add('bg-primary-600/10', 'text-primary-400', 'shadow-inner'); btn.classList.remove('text-slate-400');
                             navigate(link.id);
                         };
                         btn.innerHTML = `<i class="fa-solid ${link.icon} w-5 text-center transition-transform group-hover:scale-110"></i> ${link.label}`;
                         menu.appendChild(btn);
                     });
                     if(menu.firstChild) menu.firstChild.click();
                 }
                 if(currentUser) window.renderSidebar();
             }
        });
    </script>
</body>
</html>
